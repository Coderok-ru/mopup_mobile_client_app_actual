# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è iOS –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

## –ü—Ä–æ–±–ª–µ–º–∞: APNS —Ç–æ–∫–µ–Ω –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

–ï—Å–ª–∏ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫—É `APNS token has not been set yet`, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å APNS (Apple Push Notification Service) —Ç–æ–∫–µ–Ω –æ—Ç Apple.

## –ü—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ Capabilities –≤ Xcode

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Xcode:
   ```bash
   open ios/Runner.xcworkspace
   ```

2. –í—ã–±–µ—Ä–∏—Ç–µ target **Runner** –≤ –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞

3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Signing & Capabilities**

4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∫–ª—é—á–µ–Ω–∞ capability **Push Notifications**:
   - –ï—Å–ª–∏ –µ—ë –Ω–µ—Ç, –Ω–∞–∂–º–∏—Ç–µ **+ Capability** –∏ –¥–æ–±–∞–≤—å—Ç–µ **Push Notifications**
   - –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–µ–∫—Ü–∏—è "Push Notifications" —Å –≥–∞–ª–æ—á–∫–æ–π

5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ **Background Modes** –≤–∫–ª—é—á–∞–µ—Ç **Remote notifications**:
   - –ï—Å–ª–∏ —Å–µ–∫—Ü–∏–∏ –Ω–µ—Ç, –¥–æ–±–∞–≤—å—Ç–µ capability **Background Modes**
   - –í–∫–ª—é—á–∏—Ç–µ —á–µ–∫–±–æ–∫—Å **Remote notifications**

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ App ID –≤ Apple Developer Portal

1. –í–æ–π–¥–∏—Ç–µ –≤ [Apple Developer Portal](https://developer.apple.com/account/)

2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Certificates, Identifiers & Profiles**

3. –í—ã–±–µ—Ä–∏—Ç–µ **Identifiers** ‚Üí –Ω–∞–π–¥–∏—Ç–µ –≤–∞—à App ID (–Ω–∞–ø—Ä–∏–º–µ—Ä, `com.coderok.mopup`)

4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∫–ª—é—á–µ–Ω–∞ capability **Push Notifications**:
   - –ï—Å–ª–∏ –Ω–µ—Ç, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ App ID –∏ –≤–∫–ª—é—á–∏—Ç–µ **Push Notifications**
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ Provisioning Profile

1. –í Apple Developer Portal –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Profiles**

2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à Development/Ad Hoc/App Store –ø—Ä–æ—Ñ–∏–ª—å –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
   - –ü—Ä–æ—Ñ–∏–ª—å —Å–≤—è–∑–∞–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º App ID (—Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ Push Notifications)
   - –ü—Ä–æ—Ñ–∏–ª—å –≤–∫–ª—é—á–∞–µ—Ç –≤–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (–¥–ª—è Development –ø—Ä–æ—Ñ–∏–ª—è)
   - –ü—Ä–æ—Ñ–∏–ª—å –Ω–µ –∏—Å—Ç–µ–∫

4. –ï—Å–ª–∏ –ø—Ä–æ—Ñ–∏–ª—å —É—Å—Ç–∞—Ä–µ–ª –∏–ª–∏ –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç Push Notifications:
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å –∏–ª–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
   - –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å

5. –í Xcode:
   - **Signing & Capabilities** ‚Üí **Signing (Release)** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Team
   - Xcode –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ Entitlements

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `ios/Runner/Runner.entitlements` —Å–æ–¥–µ—Ä–∂–∏—Ç:

```xml
<key>aps-environment</key>
<string>development</string>
```

–î–ª—è Release —Å–±–æ—Ä–∫–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```xml
<key>aps-environment</key>
<string>production</string>
```

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É (Wi-Fi –∏–ª–∏ –º–æ–±–∏–ª—å–Ω–∞—è —Å–µ—Ç—å)

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–æ–≤–µ—Ä—è–µ—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä—É:
   - –ù–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ: **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–û—Å–Ω–æ–≤–Ω—ã–µ** ‚Üí **VPN –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º**
   - –ù–∞–π–¥–∏—Ç–µ –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∏ –Ω–∞–∂–º–∏—Ç–µ **–î–æ–≤–µ—Ä—è—Ç—å**

### 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

1. –ù–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**

2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **Mopup**

3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–∫–ª—é—á–µ–Ω—ã

4. –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ—Ç –≤ —Å–ø–∏—Å–∫–µ, –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ

## –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Xcode

1. –û—Ç–∫—Ä–æ–π—Ç–µ `ios/Runner.xcworkspace` –≤ Xcode

2. –í—ã–±–µ—Ä–∏—Ç–µ target **Runner**

3. **Signing & Capabilities**:
   - –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π **Team**
   - –î–æ–±–∞–≤—å—Ç–µ **Push Notifications** (–µ—Å–ª–∏ –Ω–µ—Ç)
   - –î–æ–±–∞–≤—å—Ç–µ **Background Modes** ‚Üí –≤–∫–ª—é—á–∏—Ç–µ **Remote notifications**

### –®–∞–≥ 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ App ID –≤ Developer Portal

1. –í–æ–π–¥–∏—Ç–µ –≤ [Apple Developer Portal](https://developer.apple.com/account/)

2. **Certificates, Identifiers & Profiles** ‚Üí **Identifiers**

3. –ù–∞–π–¥–∏—Ç–µ `com.coderok.mopup` –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π App ID

4. –í–∫–ª—é—á–∏—Ç–µ **Push Notifications**

5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –®–∞–≥ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Provisioning Profile

1. –í Developer Portal ‚Üí **Profiles**

2. –ù–∞–π–¥–∏—Ç–µ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ Development –ø—Ä–æ—Ñ–∏–ª—å –¥–ª—è –≤–∞—à–µ–≥–æ App ID

3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ—Ñ–∏–ª—å –≤–∫–ª—é—á–∞–µ—Ç:
   - –í–∞—à App ID (—Å Push Notifications)
   - –í–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (–¥–ª—è Development)

4. –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å (–∏–ª–∏ –ø–æ–∑–≤–æ–ª—å—Ç–µ Xcode —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### –®–∞–≥ 4: –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –í Xcode: **Product** ‚Üí **Clean Build Folder** (Shift+Cmd+K)

2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ USB –∏–ª–∏ Wi-Fi

3. –í—ã–±–µ—Ä–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ Xcode

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: **Product** ‚Üí **Run** (Cmd+R)

5. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ, –≤ –ª–æ–≥–∞—Ö Xcode –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

```
üçé –ó–∞–ø—Ä–∞—à–∏–≤–∞—é APNS —Ç–æ–∫–µ–Ω –¥–ª—è iOS...
‚úÖ APNS —Ç–æ–∫–µ–Ω –ø–æ–ª—É—á–µ–Ω: ...
üîë FCM Token –ø–æ–ª—É—á–µ–Ω: ...
```

–ï—Å–ª–∏ APNS —Ç–æ–∫–µ–Ω –Ω–µ –ø–æ–ª—É—á–µ–Ω, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. ‚úÖ Push Notifications –≤–∫–ª—é—á–µ–Ω—ã –≤ Capabilities
2. ‚úÖ App ID –∏–º–µ–µ—Ç Push Notifications –≤ Developer Portal
3. ‚úÖ Provisioning Profile –≤–∫–ª—é—á–∞–µ—Ç Push Notifications
4. ‚úÖ –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
5. ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã

## –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ Xcode

1. –û—Ç–∫—Ä–æ–π—Ç–µ **View** ‚Üí **Debug Area** ‚Üí **Show Debug Area** (Shift+Cmd+Y)

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

3. –ò—â–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏:
   - `üçé` - –∑–∞–ø—Ä–æ—Å APNS —Ç–æ–∫–µ–Ω–∞
   - `‚úÖ` - —É—Å–ø–µ—à–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
   - `‚ö†Ô∏è` - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
   - `‚ùå` - –æ—à–∏–±–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∫ Mac

2. –û—Ç–∫—Ä–æ–π—Ç–µ **Console.app** –Ω–∞ Mac

3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ —Å–ø–∏—Å–∫–µ

4. –§–∏–ª—å—Ç—Ä—É–π—Ç–µ –ø–æ –∏–º–µ–Ω–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è "Mopup" –∏–ª–∏ "Runner"

5. –ò—â–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± APNS/FCM —Ç–æ–∫–µ–Ω–∞—Ö

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞: "APNS token has not been set yet"

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Push Notifications –≤–∫–ª—é—á–µ–Ω—ã –≤ Capabilities
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ App ID –∏–º–µ–µ—Ç Push Notifications –≤ Developer Portal
- –û–±–Ω–æ–≤–∏—Ç–µ Provisioning Profile

### –ü—Ä–æ–±–ª–µ–º–∞: –¢–æ–∫–µ–Ω –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –¥–∞–∂–µ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã

### –ü—Ä–æ–±–ª–µ–º–∞: –¢–æ–∫–µ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Debug, –Ω–æ –Ω–µ –≤ Release

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ `Runner.entitlements` –¥–ª—è Release –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `production` –≤–º–µ—Å—Ç–æ `development`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ App Store/Ad Hoc –ø—Ä–æ—Ñ–∏–ª—å –≤–∫–ª—é—á–∞–µ—Ç Push Notifications

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- [Firebase Cloud Messaging –¥–ª—è iOS](https://firebase.google.com/docs/cloud-messaging/ios/client)
- [Apple Push Notification Service](https://developer.apple.com/documentation/usernotifications)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Push Notifications –≤ Xcode](https://developer.apple.com/documentation/usernotifications/registering-your-app-with-apns)

